<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head><meta charset="utf-8"/> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/> 
        <title>Login</title> 
        <link href="resources/css/cssLogin.css" rel="stylesheet" type="text/css" />
    </h:head> 
    <h:body> 
        <section>
            <h:form  id="login" class="login">
                <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
                <div id="centrologin" class="tabelalogin">
                    <br></br>
                    <p:outputLabel value="Login" class="espacologinbra"/>
                    <br></br>
                    <p:inputText value="#{UsuarioLogadoMB.usuario.login}" size="35" class="espacologin" required="required" requiredMessage="Campo Obrigatorio"/>
                    <br></br>
                    <p:outputLabel value="Senha" class="espacologinbra"/>
                    <br></br>
                    <p:inputText required="required" requiredMessage="Campo Obrigatorio" size="22" type="password" value="#{UsuarioLogadoMB.usuario.senha}" class="espacologin"/>
                    <p:commandButton value="Alterar" action="#{UsuarioLogadoMB.validarTrocarSenha()}" class="loginButton2"  oncomplete="PF('dll').show()"  />
                    <br></br>
                    <p:commandButton value="Login" class="loginButton" action="#{UsuarioLogadoMB.validarUsuario()}"/>
                    <br></br><br></br>
                </div>
                
                    <p:dialog header="Alterar Senha" modal="true" showEffect="bounce" widgetVar="dll" resizable="false"  class="dialog" width="16%" height="60%">
                        <h:panelGrid columns="2" cellpadding="5" >
                            <p:outputLabel value="Nova Senha" for="novasenha"  class="left"/>
                        </h:panelGrid>        
                        <h:panelGrid columns="2" cellpadding="5" >
                            <p:inputText  id="novasenha" value="#{UsuarioLogadoMB.novaSenha}"  size="25" maxlength="50"  class="left" type="password"/> 
                        </h:panelGrid>
                        <h:panelGrid columns="2" cellpadding="5" >
                            <p:outputLabel value="Confirmar Senha" for="confirmarsenha"  class="left" />
                        </h:panelGrid>        
                        <h:panelGrid columns="2" cellpadding="5" >
                            <p:inputText  id="confirmarsenha" value="#{UsuarioLogadoMB.confirmaNovaSenha}"  size="25" maxlength="50"  class="left" type="password"/> 
                        </h:panelGrid>
                        <p:commandButton value="Confirmar" icon="ui-icon-plusthick" style="font-size:10px" class="botaoalterarsenha" onclick="dll.hide();" action="#{UsuarioLogadoMB.confirmaNovaSenha}" />
                        <p:commandButton value="Cancelar" onclick="dll.hide();"  style="font-size:10px" icon="ui-icon-closethick" class="botaoalterarsenha" action="#{UsuarioLogadoMB.cancelarTrocaSenha()}"/>  
               
                    </p:dialog>
               
            </h:form>
        </section>
    </h:body>
</html>