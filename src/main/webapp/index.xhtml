<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head><meta charset="utf-8"/> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/> 
        <title>Login</title> 
        <link href="resources/css/cssLogin.css" rel="stylesheet" type="text/css" />
        <link href="resources/css/css.css" rel="stylesheet" type="text/css" />
    </h:head> 
    <h:body> 
        <div class="container">
            <section>
                <h:form>
                    <div id="corpologin">
                    <div id="container_demo" >
                        
                        <div id="wrapper">
                            
                            <div id="login" class="animate form">
                               
                                <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
                                <h1>Login</h1> 
                                <h:panelGrid >
                                    <p:outputLabel value="UsuÃ¡rio" for="usuario"  class="uname"/>
                                    <p:inputText id="usuario" size="30" required="required" requiredMessage="Campo Obrigatorio" value="#{UsuarioLogadoMB.usuario.login}"/>
                                </h:panelGrid>
                                <br></br>
                                <h:panelGrid >
                                    <p:outputLabel value="Senha" for="senha"  class="uname"/>
                                    <p:inputText id="senha" size="30" required="required" requiredMessage="Campo Obrigatorio" type="password" value="#{UsuarioLogadoMB.usuario.senha}"/>
                                </h:panelGrid>
                                <h:panelGrid columns="2" class="loginButton">
                                    <p:commandButton value="Login" class="loginButton" action="#{UsuarioLogadoMB.validarUsuario()}"/>
                                    <p:commandButton value="Alterar Senha" action="#{UsuarioLogadoMB.validarTrocarSenha()}" class="loginButton2"  oncomplete="PF('dll').show()"  />
                                </h:panelGrid>
                            </div>
                            </div>
                        </div>
                    </div> 
                    <p:dialog header="Alterar Senha" modal="true" showEffect="bounce" widgetVar="dll" resizable="false"  class="tabelaMat" width="22%" height="60%">
                                <h:panelGrid columns="2" cellpadding="5" >
                                    <p:outputLabel value="Nova Senha" for="novasenha"  class="left"/>
                                </h:panelGrid>        
                                <h:panelGrid columns="2" cellpadding="5" >
                                    <p:inputText  id="novasenha" value="#{UsuarioLogadoMB.novaSenha}"  size="25" maxlength="50"  class="left" type="password"/> 
                                </h:panelGrid>
                                <h:panelGrid columns="2" cellpadding="5" >
                                    <p:outputLabel value="Confirmar Senha" for="confirmarsenha"  class="left" />
                                </h:panelGrid>        
                                <h:panelGrid columns="2" cellpadding="5" >
                                    <p:inputText  id="confirmarsenha" value="#{UsuarioLogadoMB.confirmaNovaSenha}"  size="25" maxlength="50"  class="left" type="password"/> 
                                </h:panelGrid>
                                <p:commandButton value="Confirmar" icon="ui-icon-plusthick" class="botaoalterarsenha" onclick="dll.hide();" action="#{UsuarioLogadoMB.confirmaNovaSenha}" />
                                <p:commandButton value="Cancelar" onclick="dll.hide();" icon="ui-icon-closethick" class="botaoalterarsenha" action="#{UsuarioLogadoMB.cancelarTrocaSenha()}"/>  

                            </p:dialog>
                </h:form>
            </section>
        </div>
    </h:body>
</html>